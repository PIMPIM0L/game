<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="icon" href="/img/logo.png"> 
  <title>Guess Emoji Game</title>
  <link rel="stylesheet" href="/css/style.css">
  <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
</head>
<body>
 <header class="navbar">
    <div class="logo">
    <img src="/img/logo.png"><a href="/player/dashboard" style="text-decoration: none;" >&nbspGuess Emoji Game</a></div>
    <div class="dropdown">
      <button class="dropbtn">‚ò∞ ‡πÄ‡∏°‡∏ô‡∏π</button>
      <div class="dropdown-content">
        <a href="/player/game">üéÆ Play</a>
        <a href="/player/history">üìä History</a>
        <a href="/player/settings">‚öôÔ∏è Settings</a>
        <a href="/logout">üö™ Sign out</a>
      </div>
    </div>
  </header>

  <div class="container dashboard-container">
    
    <h1>History</h1>
    
    <% if (history.length === 0) { %>
      <div style="text-align: center; padding: 50px; background: #f8f9ff; border-radius: 15px;">
        <p style="font-size: 1.2em; color: #666;">
          ‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏Å‡∏≤‡∏£‡πÄ‡∏•‡πà‡∏ô<br>
          <a href="/player/game" style="color: #4A4947;">‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÄ‡∏•‡πà‡∏ô‡πÄ‡∏Å‡∏°‡πÄ‡∏•‡∏¢!</a>
        </p>
      </div>
    <% } else { %>
      <div class="table-container">
        <table>
          <thead>
            <tr>
              <th>Score</th>
              <th>Time</th>
              <th>Date</th>
            </tr>
          </thead>
          <tbody>
            <% history.forEach((record) => { %>
              <tr>
                <td><%= record.score %></td>
                <td><%= record.time_used %></td>
                <td><%= new Date(record.played_at).toLocaleString('th-TH') %></td>
              </tr>
            <% }) %>
          </tbody>
        </table>
        <div style="text-align: center; margin-top: 30px;">
          <a href="/player/game" > 
            <button style="max-width: 300px; margin: 0 auto;"> ‡πÄ‡∏•‡πà‡∏ô‡πÄ‡∏Å‡∏°‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á </button>
          </a>
        </div>
      </div>
    <% } %>
  </div>

  <script src="/js/game.js"></script>
</body>
</html>